# Spring-Study

## Basic
## ⛳ 스텝 1

1. 개발환경 구축
- [x]  Spring Boot 프로젝트를 생성해주세요 (Spring Boot 버전, Java 버전, 빌드툴은 자유롭게 선택해주세요) - 3.1.1/17/Gradle - Groovy
- [x]  다음의 Dependency를 추가해주세요
    - [x]  Spring Boot Starter Web
    - [x]  H2 database
    - [x]  Spring Data JPA
- [x]  Spring Boot 어플리케이션의 포트번호를 8090으로 변경해주세요
1. `src/main/resources/static` 경로에 hello.html을 생성하고, 웹브라우저에서 `http://localhost:8090/hello` 경로로 접근했을때 hello.html을 보여주게하는 Controller 클래스 및 메소드를 작성하세요 -
2. 웹브라우저에서 `http://localhost:8090/hi?name=suwon` 경로로 접근했을때 화면에 `hi suwon` 문자열(response body)을 보여주게 하는 컨트롤러 메소드를 작성하세요 - API 방식
3. `name`과 `age` 를 필드로 가지는 `Person` 클래스를 정의하고 웹 브라우저에서 `http://localhost:8090/person?name=suwon&age=25` 경로로 접근했을때 아래와 같은 json 문자열을 리턴하도록 하는 컨트롤러 메소드를 작성하세요 - API 방식

## ⛳ 스텝 2

1. 첨부된 자료를 참고하여 POST - [`http://localhost:8090/people`](http://localhost:8090/people) 요청시 다음과 같은 json 문자열을 리턴하도록 하는 컨트롤러 메소드를 작성하세요

```jsx
{
    "job": "developer",
    "age": 26,
    "name": "minHyeok"
}
```

1. `age` , `name` , `id` 를 필드로 가지는 `Member` Entity를 만드세요 (id는 자동으로 증가하는 숫자값),

자료의 POST - [`http://localhost:8090/](http://localhost:8090/)member` 요청을 실행하면 해당 요청을 기반으로 Member를 H2 database에 insert 하는 컨트롤러 메소드를 작성하세요 반환값은 void입니다.

1. 자료의 GET - [`http://localhost:8090/member/1`](http://localhost:8090/member/1) 요청을 실행하면  id값이 1인 Member객체를 json 문자열로 리턴하도록 하는 컨트롤러 메소드를 작성하세요 (id 변경가능)
2. 자료의 PATCH - [`http://localhost:8090/member/1`](http://localhost:8090/member) 요청을 실행하면 id값이 1인 Member 객체의 name을 주어진 name으로 변경하는 컨트롤러 메소드를 작성하세요 (id 변경가능)
3. 자료의 DELETE - `http://localhost:8090/member/1` 요청을 실행하면 id 값이 1인 Member 객체를 데이터베이스에서 삭제하는 컨트롤러 메소드를 작성하세요 (id 변경가능)
4. 자료의 GET - [`http://localhost:8090/member/1`](http://localhost:8090/member/1) 요청시 데이터베이스에 id값이 1인 객체가 없을경우 404에러를 발생시키세요

## Hard - 공부하며 개발중입니다 
다음과 같은 요구사항을 만족하는 api 를 개발하세요

### <유저>

#### 상품조회
카테고리별 상품 목록을 상품 등록 일시 내림차순으로 정렬하여 보여주며 
상품이 10개 이상이라면 한 페이지당 10개씩 나뉘어 보여지게한다.

주어지는 값 - 카테고리, 페이지 번호
반환되는 값 - [상품이름,가격]

#### 주문 
사용자가 선택한 상품에 대하여 선택할수 있는 추가적인 옵션들을 선택하게 한 뒤
주문을 생성한다. 해당 주문이 회원가입을 한 사용자의 주문이라면 상품의 적립금 정책에따라 
사용자에게 적립금을 부여한다.
추가적인 옵션은 [사이즈(Small , Medium, Large), ICE or HOT, 상품 갯수, 포장 or 매장] 이 있다.

단, 하나의 상품에 대해서 같은 종류의 추가 옵션은 하나만 선택할수있고 여러종류의 상품을 한번에 주문할 수 있다.
주문이 성공했을경우 대기번호를 반환한다.

주어지는 값 - 주문정보 (상품정보 및 추가옵션, 회원이라면 회원정보)
반환되는 값 - 대기번호

#### 회원가입
회원가입은 아이디와 비밀번호 전화번호, 닉네임을 입력받아 회원을 생성한다.

단, 아이디는 다른사용자와 중복되지 않아야하며 닉네임은 중복가능하다.

주어지는 값 - 사용자 ID, 비밀번호, 전화번호, 닉네임
반환되는 값 - 성공시 사용자 ID, 실패시 실패사유 메시지

#### 마이페이지 (가입된 회원 전용)
1. 현재 보유한 총 적립금액을 보여준다. 
2. 마이페이지에서는 해당 회원이 그동안 주문한 주문내역을 주문일시 내림차순으로 정렬하여 보여주며  
      주문이 10개 이상이라면 한 페이지당 10개씩 나뉘어 보여지게한다.
      주문 목록에서 각 주문의 보여지는 정보 - [주문에 포함된 상품 리스트, 총 가격, 주문일시, 총 적립금]

주어지는 값 - 사용자 ID
반환되는 값 - 적립금액, 사용자의 주문 목록 (주문에 포함된 상품 리스트, 총 가격, 주문일시, 총 적립금)


### <어드민>

어드민 api는 어드민 권한을 가진 유저만 사용 가능하며 어드민 계정 데이터는 데이터베이스에 sql로 직접 생성함

#### 주문조회
주문조회는 모든 주문의 정보를 다음과 같은 선택이 가능한 (관리자가선택) 
정렬 기준에 따라서 정렬하여 보여준다. (내림차 오름차 선택가능) 
- 주문일시순 
- 사용자 ID순
주문이 10건 이상이라면 페이지당 10개씩 나뉘어 보여지게한다.
주문조회에서 각 주문에 보여지는 정보 - [주문번호, 총 주문 금액, 주문일시,상품 리스트, 총 적립금, 사용자 아이디]

주어지는 값 - 정렬기준, 정렬순서
반환되는 값 - 주문 목록 리스트

#### 상품등록
상품등록은 상품이름, 상품가격, 적립정책, 적립값을 입력받아 상품을 생성한다.
- 적립 정책 : 정가정립, 퍼센트 적립으로 나뉘며 정가 적립은 입력받은 적립 값(금액)만큼 고정적으로 적립되고   
      퍼센트 적립은 상품의 가격에서 입력받은 적립값(퍼센트)만큼 적립된다.

주어지는 값 - 상품 이름, 상품 가격, 적립정책 , 적립값
반환되는 값 - 등록된 상품 정보 (상품이름, 상품 가격, 상품 ID)

#### 상품 추가 옵션 등록
상품 추가 옵션 등록은 특정 상품을 지정하여 해당 상품을 주문할때 사용자가 선택할수있는 추가 옵션을 등록하는 기능이며
옵션타입 (ICE or HOT, 사이즈)을 입력받아 생성한다. (한번에 옵션 여러개 등록가능)

주어지는 값 - 상품 ID, 추가 옵션 정보
반환되는 값 - 상품 ID, 등록된 추가옵션

 
### <테스트 케이스>

해당 케이스를 테스트하는 테스트코드를 작성하시오

1. 상품조회 api는
    1. 모든 유저가 사용가능하다.
    2. 상품이 10개 이상이라면 상품 등록일시 내림차 순으로 한 페이지당 10개씩 나뉘어 보여지고 각 상품정보는 상품이름, 가격을 포함한다.
2. 주문 api는 상품 정보와 추가 옵션을 입력받아 생성하고
    1. 비회원의 주문이라면 적립금을 적립하지 않는다.
    2. 회원의 주문이라면
        1. 상품의 적립정책이 정가적립일경우 상품의 적립금액만큼 적립된다.
        2. 상품의 적립정책이 퍼센트적립일경우 상품의 적립률 만큼 적립된다.
3. 회원가입 api는
    1. 아이디와 비밀번호 전화번호, 닉네임을 입력받아 회원을 생성한다.
    2. 아이디는 다른사용자와 중복되지 않아야 한다. (중복시 적절한 에러 코드 반환하기)
    3. 아이디,비밀번호,전화번호,닉네임중 어느것도 null이 아니며 null일경우 400에러를 반환한다.
4. 마이페이지 api는
    1. 가입한 회원만 조회 가능하다
    2. 회원의 총 적립금과 해당 회원의 주문내역이 주문일시 내림차순으로 한페이지당 10개씩 나뉘어 보여지고 각 주문 정보는 상품이름, 상품가격, 주문 일시, 적립금을 포함한다.
5. 주문 조회 api는
    1. 관리자만 사용 가능하다.
    2. 각 주문정보에 주문번호, 주문금액, 주문일시, 상품리스트, 적립금, 사용자 아이디를 포함하며 주문이 10건 이상이라면 페이지당 10개씩 나뉘어 보여지게하고
        1. 주문일시순으로 정렬하여 보여준다.
        2. 사용자 ID순으로 정렬하여 보여준다.
6. 상품등록 api는
    1. 관리자만 사용가능하다.
    2. 상품이름, 상품가격, 적립정책, 적립값을 입력받아 상품을 생성한다.
7. 상품 추가옵션 등록 api는
    1. 관리자만 사용가능하다.
    2. 상품 ID, 추가옵션정보를 받아 추가옵션을 등록한다.
